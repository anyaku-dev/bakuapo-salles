<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>サービス改善ご意見箱｜BakuApo パートナーポータル</title>
    <meta name="robots" content="noindex, nofollow">
    <link rel="icon" href="/favicon.ico">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=Noto+Sans+JP:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        :root{--bg:#FAFAFA;--bg-card:#FFF;--bg-alt:#F3F4F6;--border:#E5E7EB;--text-primary:#111827;--text-secondary:#6B7280;--text-muted:#9CA3AF;--accent:#0852FF;--accent-light:rgba(8,82,255,.08);--success:#10B981}
        *{box-sizing:border-box;margin:0;padding:0}
        body{font-family:'Inter','Noto Sans JP',-apple-system,BlinkMacSystemFont,"Segoe UI",sans-serif;background:var(--bg);color:var(--text-primary);line-height:1.7;font-size:15px;-webkit-font-smoothing:antialiased}
        .site-header{position:sticky;top:0;z-index:100;background:rgba(255,255,255,.85);backdrop-filter:saturate(180%) blur(20px);-webkit-backdrop-filter:saturate(180%) blur(20px);border-bottom:1px solid var(--border)}
        .header-inner{max-width:1000px;margin:0 auto;padding:14px 24px;display:flex;align-items:center;justify-content:space-between}
        .header-logo img{height:58px}
        .header-label{font-size:13px;font-weight:600;color:var(--text-secondary)}
        .main{max-width:600px;margin:0 auto;padding:64px 24px 100px}

        .page-icon{width:72px;height:72px;margin:0 auto 24px;background:rgba(245,158,11,.08);border-radius:20px;display:flex;align-items:center;justify-content:center}
        .page-icon svg{width:36px;height:36px;color:#F59E0B}
        h1{font-size:24px;font-weight:800;letter-spacing:-.03em;text-align:center;margin-bottom:8px}
        .subtitle{text-align:center;font-size:14px;color:var(--text-secondary);margin-bottom:40px;line-height:1.8}
        .anon-badge{display:flex;align-items:center;justify-content:center;gap:6px;font-size:12px;color:var(--text-muted);margin-bottom:8px}
        .anon-badge svg{width:14px;height:14px;stroke:currentColor;fill:none;stroke-width:2}

        .form-card{background:var(--bg-card);border:1px solid var(--border);border-radius:16px;padding:32px;margin-bottom:24px}
        .form-label{display:block;font-size:14px;font-weight:600;margin-bottom:10px}
        textarea{width:100%;min-height:180px;padding:16px;border:1px solid var(--border);border-radius:10px;font-size:15px;font-family:inherit;color:var(--text-primary);background:var(--bg-card);resize:vertical;transition:border-color .2s,box-shadow .2s;line-height:1.7}
        textarea:focus{outline:none;border-color:var(--accent);box-shadow:0 0 0 3px var(--accent-light)}
        textarea::placeholder{color:var(--text-muted)}
        .char-count{text-align:right;font-size:12px;color:var(--text-muted);margin-top:6px}

        .btn-submit{display:flex;align-items:center;justify-content:center;gap:10px;width:100%;font-size:16px;font-weight:700;font-family:inherit;color:#fff;background:var(--accent);padding:16px;border-radius:12px;border:none;cursor:pointer;transition:all .2s;box-shadow:0 4px 16px rgba(8,82,255,.2)}
        .btn-submit:hover{background:#063FCC;transform:translateY(-1px);box-shadow:0 8px 24px rgba(8,82,255,.25)}
        .btn-submit:disabled{background:var(--text-muted);cursor:not-allowed;transform:none;box-shadow:none}
        .btn-submit svg{width:18px;height:18px}

        .success-msg{display:none;text-align:center;padding:48px 24px;background:var(--bg-card);border:1px solid var(--border);border-radius:16px}
        .success-msg.visible{display:block}
        .success-msg .s-icon{width:64px;height:64px;margin:0 auto 20px;background:rgba(16,185,129,.08);border-radius:50%;display:flex;align-items:center;justify-content:center}
        .success-msg .s-icon svg{width:32px;height:32px;color:var(--success)}
        .success-msg h2{font-size:20px;font-weight:800;margin-bottom:8px}
        .success-msg p{font-size:14px;color:var(--text-secondary)}

        .form-area{transition:opacity .3s}
        .form-area.hidden{opacity:0;pointer-events:none;height:0;overflow:hidden}

        .site-footer{text-align:center;padding:32px 24px;border-top:1px solid var(--border);margin-top:60px}
        .site-footer p{font-size:12px;color:var(--text-muted)}
        @media(max-width:640px){.main{padding:48px 16px 80px}.form-card{padding:24px 20px}}
    </style>
</head>
<body>
    <header class="site-header">
        <div class="header-inner">
            <div class="header-logo"><img src="/bakuapo-logo-useer.svg" alt="BakuApo"></div>
            <span class="header-label">パートナー様専用ポータル</span>
        </div>
    </header>

    <main class="main">
        <div class="page-icon">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M21 15a2 2 0 01-2 2H7l-4 4V5a2 2 0 012-2h14a2 2 0 012 2z"/>
            </svg>
        </div>
        <h1>サービス改善ご意見箱</h1>
        <div class="anon-badge">
            <svg viewBox="0 0 24 24"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/></svg>
            匿名で送信されます
        </div>
        <p class="subtitle">
            販売サポート体制やサービスに関するご意見・ご要望を<br>
            お気軽にお聞かせください。匿名で受付けております。
        </p>

        <div class="form-area" id="formArea">
            <div class="form-card">
                <label class="form-label" for="feedbackText">ご意見・ご要望</label>
                <textarea id="feedbackText" placeholder="BakuApoのサービスや販売サポートについて、ご意見やご要望をご自由にお書きください。"></textarea>
                <p class="char-count"><span id="charCount">0</span> 文字</p>
            </div>
            <button class="btn-submit" id="submitBtn" disabled>
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="22" y1="2" x2="11" y2="13"/><polygon points="22 2 15 22 11 13 2 9 22 2"/></svg>
                送信する
            </button>
        </div>

        <div class="success-msg" id="successMsg">
            <div class="s-icon">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M22 11.08V12a10 10 0 11-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></svg>
            </div>
            <h2>ご意見をお送りいただきました</h2>
            <p>貴重なご意見をありがとうございます。<br>サービス改善に活用させていただきます。</p>
        </div>
    </main>

    <footer class="site-footer">
        <p>&copy; 2026 BakuApo &amp; CHAINSODA Co., Ltd. — All rights reserved.</p>
    </footer>

    <script>
    // Google Apps Script Web App URL（後で設定）
    const FEEDBACK_ENDPOINT = '';

    const textarea = document.getElementById('feedbackText');
    const submitBtn = document.getElementById('submitBtn');
    const charCount = document.getElementById('charCount');

    textarea.addEventListener('input', () => {
        const len = textarea.value.trim().length;
        charCount.textContent = len;
        submitBtn.disabled = len < 1;
    });

    submitBtn.addEventListener('click', async () => {
        const text = textarea.value.trim();
        if (!text) return;

        submitBtn.disabled = true;
        submitBtn.innerHTML = '送信中...';

        const payload = {
            message: text,
            submittedAt: new Date().toISOString()
        };

        if (FEEDBACK_ENDPOINT) {
            try {
                await fetch(FEEDBACK_ENDPOINT, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload),
                    mode: 'no-cors'
                });
            } catch (err) {
                console.error('Submit error:', err);
            }
        }

        document.getElementById('formArea').classList.add('hidden');
        document.getElementById('successMsg').classList.add('visible');
    });
    </script>
</body>
</html>
